<div class="product-inventory-sales-report mb-5" *ngIf="visibleInventoryReports.indexOf(productForm?.value?.inventoryReportId) > -1">
<form [formGroup]="productForm">
<div class="row mx-0 bg-blue">
  <h4 class="col-xs-12 font-weight-bold">
    {{productForm?.value?.product}}
    <input
      *ngIf="['Other', 'Extracts - Other'].indexOf(productForm?.value?.product) >= 0"
      class="form-control px-1 mx-4"
      style="min-width: 150px;"
      type="text"
      formControlName="otherDescription"
      placeholder="Description">
  </h4>

</div>
<div class="row mx-0 d-flex nowrap">
<div class="text-center bg-grey py-4 px-0 border border-right-0 border-blue flex-fill">
  <label class="d-block">Opening</label>
  <label>Inventory</label>
  <div class="d-flex">
    <div class="flex-fill">
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="openingInventory"
          mask="separator" thousandSeparator=","
          disabled>
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <fa-icon [icon]="faQuestionCircle" data-html="true" style="color: #38598a; margin: auto 0 auto 10px" matTooltipClass="multiline-tooltip" matTooltip="To update the opening inventory value please e-mail tracking.reports@gov.bc.ca"></fa-icon>
        <div *ngIf="isFieldInvalid('openingInventory')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="text-center bg-green py-4 px-0 border border-right-0 border-blue flex-fill">
  <label>Additions to Inventory</label>
  <div class="d-flex">
    <div class="flex-fill">
      <label>Domestic</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="domesticAdditions"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('domesticAdditions')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill">
      <label>Returns</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="returnsAdditions"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('returnsAdditions')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill">
      <label>Other</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="otherAdditions"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('otherAdditions')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="text-center bg-red py-4 px-0 border border-right-0 border-blue flex-fill">
  <label>Reductions to Inventory</label>
  <div class="d-flex">
    <div class="flex-fill">
      <label>Domestic</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="domesticReductions"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('domesticReductions')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill">
      <label>Returns</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="returnsReductions"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('returnsReductions')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill">
      <label>Destroyed</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="destroyedReductions"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('destroyedReductions')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill">
      <label>Lost/Stolen</label>
      <div class="input-group flex-fill px-2 py-3">
        <input class="form-control px-1"
               type="text"
               formControlName="lostReductions"
               mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('lostReductions')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill">
      <label>Other</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="otherReductions"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('otherReductions')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="text-center bg-grey py-4 px-0 border border-blue border-right-0 flex-fill">
  <label>Closing Inventory</label>
  <div class="d-flex">
    <div class="flex-fill">
      <label>Quantity</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="closingNumber"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">units</span>
        </div>
        <div *ngIf="isFieldInvalid('closingNumber')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill">
      <label>Value</label>
      <div class="input-group flex-fill px-2 py-3">
        <div class="input-group-prepend">
          <span class="input-group-text">$</span>
        </div>
        <input
          class="form-control px-1"
          type="text"
          formControlName="closingValue"
          mask="separator" thousandSeparator=",">
        <div *ngIf="isFieldInvalid('closingValue')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill" *ngIf="productForm?.value?.product !== 'Seeds' && productForm?.value?.product != 'Vegetative Cannabis'">
      <label>Weight</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="closingWeight"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">kg</span>
        </div>
        <div *ngIf="isFieldInvalid('closingWeight')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
    <div class="flex-fill" *ngIf="productForm?.value?.product === 'Seeds'">
      <label>Seeds</label>
      <div class="input-group flex-fill px-2 py-3">
        <input
          class="form-control px-1"
          type="text"
          formControlName="totalSeeds"
          mask="separator" thousandSeparator=",">
        <div class="input-group-append">
          <span class="input-group-text">#</span>
        </div>
        <div *ngIf="isFieldInvalid('totalSeeds')" style="align-self: center; flex: 0 0 15px;">
          <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
          <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="text-center bg-dark-grey py-4 px-0 border border-blue flex-fill">
  <label class="d-block">Sales to Consumer</label>
  <label>(retail)</label>
  <div class="d-flex">
    <div class="input-group flex-fill px-2 py-3">
      <input
        class="form-control px-1"
        type="text"
        formControlName="totalSalesToConsumerQty"
        mask="separator" thousandSeparator=",">
      <div class="input-group-append">
        <span class="input-group-text">units</span>
      </div>
      <div *ngIf="isFieldInvalid('totalSalesToConsumerQty')" style="align-self: center; flex: 0 0 15px;">
        <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
        <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
      </div>
    </div>
    <div class="input-group flex-fill px-2 py-3">
      <div class="input-group-prepend">
        <span class="input-group-text">$</span>
      </div>
      <input
        class="form-control px-1"
        type="text"
        formControlName="totalSalesToConsumerValue"
        mask="separator" thousandSeparator=",">
      <div *ngIf="isFieldInvalid('totalSalesToConsumerValue')" style="align-self: center; flex: 0 0 15px;">
        <fa-icon [icon]="faChevronLeft" class="error-states"></fa-icon>
        <fa-icon [icon]="faChevronLeft" class="error-states" style="margin-left: -3px"></fa-icon>
      </div>
    </div>
  </div>
</div>
</div>
<div *ngIf="productForm.invalid && !productForm.disabled && productForm.dirty" class="validation">
  <div class="alert alert-danger" *ngFor="let error of getFieldValidationErrors();">{{error}}</div>
</div>
<div class="validation">
  <div class="alert alert-warning" *ngFor="let alert of getFormValidationErrors();">{{alert}}</div>
</div>
</form>
</div>
